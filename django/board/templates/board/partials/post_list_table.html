{% load humanize %}

<table class="table table-sm table-hover" style="font-family: sans-serif;">

    <thead>
    <tr>
        <th style="width: 6%">번호</th>
        <th style="width: 12%">문서시행일자</th>
        <th style="width: 40%">문서제목</th>
        <th style="width: 12%">글쓴이</th>
        <th style="width: 22%">작성일시</th>
        <th style="width: 8%">조회수</th>
    </tr>
    </thead>
    <tbody>
    {% for notice in notices %}
        <tr>
            <td><span class="badge badge-dark">공지</span></td>
            <td>{{ notice.execution_date|date:"Y-m-d"|default:"" }}</td>
            <td style="white-space:nowrap; overflow:hidden; display:block;">
                {% if co and notice.project %}
                    <span class="badge badge-outline-success mr-1">{{ notice.project }}</span> {% endif %}
                <a href="{% if co %}
                    {% if this_board.pk == 1 %}
                        {% url 'rebs:docs:co.general_detail' notice.pk %}
                    {% else %}
                        {% url 'rebs:docs:co.lawsuit_detail' notice.pk %}
                    {% endif %}
                {% else %}
                    {% if this_board.pk == 1 %}
                        {% url 'rebs:docs:pr.general_detail' notice.pk %}
                    {% else %}
                        {% url 'rebs:docs:pr.lawsuit_detail' notice.pk %}
                    {% endif %}
                {% endif %}" class="text-secondary">{{ notice }}</a>
            </td>
            <td>{{ notice.user }}</td>
            <td>{{ notice.updated|default:notice.created }}</td>
            <td>{{ notice.hit|default:"-"|intcomma }}</td>
        </tr>
    {% endfor %}

    {% for object in object_list %}
        <tr>
            <td>{{ forloop.revcounter|add:add_num }}</td>
            <td>{{ object.execution_date|date:"Y-m-d"|default:"-" }}</td>
            <td style="white-space:nowrap; overflow:hidden; display:block;">
                {% if co %}
                    {% if object.project %}
                        <a href="?project={{ object.project.pk }}&category={{ request.GET.category }}">
                            <span class="badge badge-outline-success mr-1">{{ object.project }}</span>
                        </a>
                    {% else %}
                        <a href="?project=co&category={{ request.GET.category }}">
                            <span class="badge badge-primary-lighten mr-1">본사</span>
                        </a>
                    {% endif %}
                {% endif %}
                {% if object.category %}
                    <a href="?project={{ request.GET.project }}&category={{ object.category.pk }}">
                        <span class="badge badge-secondary font-10 mr-1">{{ object.category }}</span>
                    </a>
                {% endif %}

                <a href="{% if co %}
                        {% if this_board.pk == 1 %}
                            {% url 'rebs:docs:co.general_detail' object.pk %}
                        {% else %}
                            {% url 'rebs:docs:co.lawsuit_detail' object.pk %}
                        {% endif %}
                    {% else %}
                        {% if this_board.pk == 1 %}
                            {% url 'rebs:docs:pr.general_detail' object.pk %}
                        {% else %}
                            {% url 'rebs:docs:pr.lawsuit_detail' object.pk %}
                        {% endif %}
                    {% endif %}" class="text-secondary">
                    {{ object }}
                </a>

            </td>
            <td>{{ object.user }}</td>
            <td>{{ object.updated|default:object.created }}</td>
            <td>{{ object.hit|default:"-"|intcomma }}</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
